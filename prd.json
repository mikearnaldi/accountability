{
  "project": "Accountability",
  "description": "Multi-company, multi-currency accounting application built on US GAAP principles",
  "version": "1.0.0",
  "created_at": "2026-01-10",
  "updated_at": "2026-01-10",
  "specs_dir": "specs/",
  "available_specs": [
    "ACCOUNTING_RESEARCH.md",
    "HTTP_API_TANSTACK.md",
    "API_BEST_PRACTICES.md"
  ],
  "technology": {
    "effect": {
      "version": "^3.19.0",
      "notes": "Schema is included in core effect package since 3.10.0. Import as: import * as Schema from 'effect/Schema'"
    },
    "effect_sql": {
      "packages": [
        "@effect/sql",
        "@effect/sql-pg",
        "@effect/sql-drizzle"
      ],
      "notes": "@effect/sql-pg requires @effect/experimental and @effect/platform as peer deps"
    },
    "effect_vitest": {
      "package": "@effect/vitest",
      "version": "^0.27.0",
      "peer_deps": [
        "vitest ^3.2.0"
      ]
    },
    "tanstack_start": {
      "package": "@tanstack/react-start",
      "version": "^1.147.0",
      "peer_deps": [
        "react ^19.0.0",
        "react-dom ^19.0.0",
        "vite ^7.0.0"
      ],
      "notes": "Use for file-based routing. API served via Effect HttpApi with HttpApiBuilder.toWebHandler at /api route. See specs/HTTP_API_TANSTACK.md"
    },
    "effect_platform": {
      "packages": [
        "@effect/platform",
        "@effect/platform-node"
      ],
      "notes": "Required for HttpApi and HttpApiClient. Use HttpApiBuilder for server handlers, HttpApiClient for type-safe client."
    },
    "effect_atom": {
      "packages": [
        "@effect-atom/atom",
        "@effect-atom/atom-react"
      ],
      "notes": "For reactive state management with Effect. See repos/effect-atom/ for source and specs/HTTP_API_TANSTACK.md Part 3 for patterns."
    }
  },
  "reference_repos": {
    "effect": "repos/effect/packages/effect/src/",
    "effect_sql": "repos/effect/packages/sql/src/",
    "effect_sql_pg": "repos/effect/packages/sql-pg/src/",
    "effect_sql_drizzle": "repos/effect/packages/sql-drizzle/src/",
    "effect_vitest": "repos/effect/packages/vitest/src/",
    "effect_atom": "repos/effect-atom/packages/atom/src/",
    "effect_atom_react": "repos/effect-atom/packages/atom-react/src/",
    "tanstack_start": "repos/tanstack-router/packages/react-start/src/",
    "tanstack_examples": "repos/tanstack-router/examples/react/start-basic/"
  },
  "stories": [
    {
      "id": "7.2.3",
      "phase": "API Layer",
      "epic": "Quality Assurance",
      "title": "Verify OpenAPI spec generation",
      "description": "Create a test that verifies the OpenAPI specification can be generated without errors for all API endpoints.",
      "acceptance_criteria": [
        "Test that OpenAPI JSON can be generated without errors",
        "Verify all schemas have valid JSON Schema representations",
        "No missing jsonSchema annotations"
      ],
      "status": "in_progress",
      "estimated_complexity": "medium"
    },
    {
      "id": "7.2.4",
      "phase": "UI Layer",
      "epic": "Pages",
      "title": "Implement report viewer page",
      "description": "Create page for viewing and exporting financial reports using Effect Atom for async report generation.",
      "specs": [
        "HTTP_API_TANSTACK.md"
      ],
      "acceptance_criteria": [
        "Route: /companies/:companyId/reports",
        "Report type selector: Trial Balance, Balance Sheet, Income Statement, Cash Flow",
        "Date/period parameter inputs stored in local state",
        "Report data fetched via reportAtom(type, params)",
        "Report display with proper formatting (indentation, subtotals, totals)",
        "Drill-down to transactions using transactionsAtom(accountId, dateRange)",
        "Loading and error states via Atom status",
        "Export to PDF/Excel (can be future enhancement)"
      ],
      "technical_details": {
        "report_atom": "Atom.family((params) => asyncAtom calling reports API)",
        "params_pattern": "Local React state for report type, dates - atom key changes trigger refetch",
        "drill_down": "On account click, set selectedAccount state, show transactionsAtom data"
      },
      "status": "pending",
      "estimated_complexity": "large"
    }
  ]
}
